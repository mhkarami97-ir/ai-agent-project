# ماشین حساب پیشرفته

یک ماشین حساب وب پیشرفته با امکانات متنوع شامل حالت‌های ساده، مهندسی، برنامه‌نویسی و رسم نمودار.

## ویژگی‌ها

### 🎯 حالت‌های محاسباتی

#### 1. حالت ساده
- عملیات پایه: جمع، تفریق، ضرب، تقسیم
- محاسبه درصد
- تاریخچه محاسبات
- پشتیبانی از کیبورد

#### 2. حالت مهندسی
توابع مثلثاتی با پشتیبانی از درجه و رادیان:
- `sin`, `cos`, `tan` (سینوس، کسینوس، تانژانت)
- `asin`, `acos`, `atan` (سینوس معکوس، کسینوس معکوس، تانژانت معکوس)

توابع ریاضی پیشرفته:
- `√` (جذر)
- `x²` (توان دوم)
- `x³` (توان سوم)
- `x^y` (توان دلخواه)
- `e^x` (نمایی)
- `ln` (لگاریتم طبیعی)
- `log` (لگاریتم مبنای ۱۰)
- `n!` (فاکتوریل)
- `|x|` (قدر مطلق)
- `1/x` (معکوس)
- `π` (عدد پی)
- `e` (عدد اویلر)

#### 3. حالت برنامه‌نویسی
پشتیبانی از چهار سیستم عددی:
- **HEX** (مبنای ۱۶)
- **DEC** (مبنای ۱۰)
- **OCT** (مبنای ۸)
- **BIN** (مبنای ۲)

عملیات بیتی:
- `AND` (و منطقی)
- `OR` (یا منطقی)
- `XOR` (یا انحصاری)
- `NOT` (نقیض)
- `LSH` (شیفت چپ)
- `RSH` (شیفت راست)

تبدیل خودکار بین مبناها و نمایش همزمان در تمام سیستم‌های عددی.

#### 4. حالت نمودار
- رسم نمودار توابع ریاضی
- تنظیم محدوده محورها (X و Y)
- نمایش گرید و محورهای مختصات
- مثال‌های آماده توابع:
  - `x^2` (سهمی)
  - `sin(x)` (سینوسی)
  - `cos(x)` (کسینوسی)
  - `tan(x)` (تانژانتی)
  - `exp(x)` (نمایی)
  - `ln(x)` (لگاریتمی)
  - `sqrt(x)` (رادیکالی)
  - `abs(x)` (قدر مطلق)

### 💾 مدیریت داده‌ها

- **ذخیره‌سازی محلی**: تمام محاسبات در localStorage مرورگر ذخیره می‌شوند
- **تاریخچه**: نگهداری ۵۰ محاسبه اخیر
- **بازیابی سریع**: کلیک روی هر محاسبه در تاریخچه برای استفاده مجدد

### ⌨️ پشتیبانی از کیبورد

- **اعداد**: 0-9
- **اعمال**: +, -, *, /
- **اعشار**: .
- **محاسبه**: Enter
- **پاک کردن**: Escape
- **حذف**: Backspace

### 🎨 طراحی رابط کاربری

- **طراحی مدرن و زیبا** با گرادیانت‌های رنگی
- **حالت تاریک** برای راحتی چشم
- **انیمیشن‌های نرم** برای تجربه کاربری بهتر
- **طراحی ریسپانسیو** برای موبایل، تبلت و دسکتاپ
- **فونت فارسی Vazirmatn** برای خوانایی بهتر

## ساختار پروژه

```
calculator/
├── index.html              # فایل اصلی HTML
├── README.md              # مستندات پروژه
└── assets/
    ├── css/
    │   └── style.css      # استایل‌های CSS
    ├── js/
    │   └── app.js         # منطق برنامه JavaScript
    └── fonts/             # پوشه فونت‌ها (فایل‌های فونت را اینجا قرار دهید)
        ├── Vazirmatn-Regular.woff2
        ├── Vazirmatn-Medium.woff2
        └── Vazirmatn-Bold.woff2
```

## نصب و راه‌اندازی

### پیش‌نیازها
- یک مرورگر مدرن (Chrome, Firefox, Safari, Edge)
- فایل‌های فونت Vazirmatn

### مراحل نصب

1. **دانلود فایل‌های پروژه**
   ```
   دانلود یا clone کردن ریپازیتوری
   ```

2. **افزودن فونت‌ها**
   - فایل‌های فونت Vazirmatn را در پوشه `assets/fonts/` قرار دهید:
     - `Vazirmatn-Regular.woff2`
     - `Vazirmatn-Medium.woff2`
     - `Vazirmatn-Bold.woff2`

3. **اجرای برنامه**
   - فایل `index.html` را در مرورگر باز کنید
   - یا از یک سرور محلی استفاده کنید:
     ```bash
     # با Python 3
     python -m http.server 8000
     
     # با Node.js (http-server)
     npx http-server
     ```
   - سپس به آدرس `http://localhost:8000` بروید

## استفاده

### حالت ساده
1. روی دکمه "ساده" کلیک کنید
2. اعداد و عملگرها را وارد کنید
3. برای محاسبه روی `=` کلیک کنید

### حالت مهندسی
1. روی دکمه "مهندسی" کلیک کنید
2. واحد زاویه (درجه/رادیان) را انتخاب کنید
3. از توابع مختلف برای محاسبات پیچیده استفاده کنید

### حالت برنامه‌نویسی
1. روی دکمه "برنامه‌نویسی" کلیک کنید
2. سیستم عددی مورد نظر (HEX/DEC/OCT/BIN) را انتخاب کنید
3. اعداد را وارد کنید - تبدیل به صورت خودکار انجام می‌شود
4. از عملیات بیتی استفاده کنید

### حالت نمودار
1. روی دکمه "نمودار" کلیک کنید
2. تابع را در کادر ورودی بنویسید (مثال: `x^2` یا `sin(x)`)
3. محدوده محورها را تنظیم کنید
4. روی "رسم نمودار" کلیک کنید
5. می‌توانید از مثال‌های آماده استفاده کنید

### تاریخچه محاسبات
- روی دکمه 📜 کلیک کنید
- تاریخچه محاسبات نمایش داده می‌شود
- برای استفاده مجدد از یک نتیجه، روی آن کلیک کنید
- برای پاک کردن تاریخچه، روی "پاک کردن تاریخچه" کلیک کنید

## ویژگی‌های تکنیکی

### HTML
- استفاده از تگ‌های معنایی (Semantic HTML)
- ساختار مدولار برای حالت‌های مختلف
- پشتیبانی از RTL برای زبان فارسی

### CSS
- طراحی با CSS Variables برای سفارشی‌سازی آسان
- استفاده از Flexbox و Grid برای چیدمان
- انیمیشن‌ها و ترانزیشن‌ها برای تجربه کاربری بهتر
- Media Queries برای ریسپانسیو بودن
- Gradient backgrounds برای زیبایی بیشتر

### JavaScript
- استفاده از Vanilla JavaScript (بدون وابستگی)
- مدیریت State برای حالت‌های مختلف
- LocalStorage API برای ذخیره‌سازی
- Canvas API برای رسم نمودار
- Event Delegation برای مدیریت بهتر رویدادها

## مرورگرهای پشتیبانی‌شده

- ✅ Chrome/Edge 90+
- ✅ Firefox 88+
- ✅ Safari 14+
- ✅ Opera 76+

## محدودیت‌ها و نکات

1. **دقت محاسبات**: به دلیل محدودیت‌های اعشار در JavaScript، محاسبات تا 10 رقم اعشار گرد می‌شوند
2. **فاکتوریل**: فقط برای اعداد صحیح غیرمنفی محاسبه می‌شود
3. **نمودار**: برای توابع پیچیده، ممکن است زمان رسم کمی طولانی شود
4. **حالت برنامه‌نویسی**: فقط اعداد صحیح پشتیبانی می‌شوند

## سفارشی‌سازی

### تغییر رنگ‌ها
رنگ‌ها در فایل `assets/css/style.css` با استفاده از CSS Variables تعریف شده‌اند:

```css
:root {
    --primary-color: #6366f1;
    --secondary-color: #8b5cf6;
    --accent-color: #ec4899;
    /* ... */
}
```

### تغییر فونت
فونت‌ها در ابتدای فایل CSS تعریف شده‌اند. می‌توانید مسیر و نام فونت را تغییر دهید:

```css
@font-face {
    font-family: 'YourFont';
    src: url('../fonts/YourFont.woff2') format('woff2');
}
```

## عیب‌یابی

### مشکل: فونت‌ها نمایش داده نمی‌شوند
- اطمینان حاصل کنید که فایل‌های فونت در `assets/fonts/` قرار دارند
- مسیر فایل‌های فونت در CSS را بررسی کنید
- کش مرورگر را پاک کنید

### مشکل: نمودار رسم نمی‌شود
- بررسی کنید که تابع به درستی نوشته شده است
- از عملگر `^` برای توان استفاده کنید
- محدوده محورها را مناسب تنظیم کنید

### مشکل: تاریخچه ذخیره نمی‌شود
- اطمینان حاصل کنید که مرورگر اجازه استفاده از LocalStorage را می‌دهد
- بررسی کنید که حالت Private/Incognito فعال نباشد

## مشارکت

برای مشارکت در بهبود این پروژه:
1. یک Fork از پروژه بسازید
2. تغییرات خود را اعمال کنید
3. یک Pull Request ارسال کنید

## نکات امنیتی

⚠️ **هشدار**: از آنجایی که این ماشین حساب از `eval()` برای ارزیابی عبارات استفاده می‌کند، فقط برای استفاده شخصی طراحی شده است. برای استفاده در محیط‌های عمومی، باید از یک parser امن‌تر استفاده شود.

## لایسنس

این پروژه تحت لایسنس MIT منتشر شده است. استفاده، تغییر و توزیع آزاد است.

## تماس و پشتیبانی

برای گزارش باگ‌ها یا پیشنهادات:
- Issue در ریپازیتوری باز کنید
- یا با توسعه‌دهنده تماس بگیرید

---

**توسعه‌یافته با ❤️ برای جامعه برنامه‌نویسان فارسی‌زبان**

